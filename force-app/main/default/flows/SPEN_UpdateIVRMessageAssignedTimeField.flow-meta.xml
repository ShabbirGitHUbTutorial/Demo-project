<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Copy_1_of_Get_Affetcedt_Premise_Calling</name>
        <label>Copy 1 of Get Affetcedt Premise Calling</label>
        <locationX>1656</locationX>
        <locationY>528</locationY>
        <actionName>SPEN_GetAffectedPremiseService</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>IncidentId</name>
            <value>
                <elementReference>$Record.SPEN_IncidentID__c</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SPEN_GetAffectedPremiseService</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <actionCalls>
        <name>SPEN_GetAffetcedtPremiseCalling</name>
        <label>Get Affetcedt Premise Calling</label>
        <locationX>1128</locationX>
        <locationY>1008</locationY>
        <actionName>SPEN_GetAffectedPremiseService</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>IncidentId</name>
            <value>
                <elementReference>$Record.SPEN_IncidentID__c</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SPEN_GetAffectedPremiseService</nameSegment>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>56.0</apiVersion>
    <assignments>
        <name>CreateINCStringList</name>
        <label>CreateINCStringList</label>
        <locationX>1128</locationX>
        <locationY>888</locationY>
        <assignmentItems>
            <assignToReference>INCIDList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>$Record.SPEN_IncidentID__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SPEN_GetAffetcedtPremiseCalling</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SPEN_AssignNorthZoneValue</name>
        <label>AssignNorthZoneValue</label>
        <locationX>1128</locationX>
        <locationY>528</locationY>
        <assignmentItems>
            <assignToReference>SPEN_ZoneValueHolderVariable</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Messaging_Task_SPD</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SPEN_GetQueue</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SPEN_AssignSouthZoneValue</name>
        <label>AssignSouthZoneValue</label>
        <locationX>1392</locationX>
        <locationY>528</locationY>
        <assignmentItems>
            <assignToReference>SPEN_ZoneValueHolderVariable</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Messaging_Task_SPM</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SPEN_GetQueue</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Check_IncidentType</name>
        <label>Check IncidentType</label>
        <locationX>2052</locationX>
        <locationY>408</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>HV_INC</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>DelayBatchINCType.SPEN_Value__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>$Record.SPEN_IncidentType__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Get_Affetcedt_Premise_Calling</targetReference>
            </connector>
            <label>HV INC</label>
        </rules>
    </decisions>
    <decisions>
        <name>CheckIfODAlreadyExist</name>
        <label>CheckIfODAlreadyExist</label>
        <locationX>534</locationX>
        <locationY>648</locationY>
        <defaultConnector>
            <targetReference>SPEN_RunImmediateforIVRMessage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>ODExist</defaultConnectorLabel>
        <rules>
            <name>ODNOTExist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getAlreadyCreatedOD</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getODOwner</targetReference>
            </connector>
            <label>ODNOTExist</label>
        </rules>
    </decisions>
    <decisions>
        <name>checkINCType</name>
        <label>checkINCType</label>
        <locationX>732</locationX>
        <locationY>408</locationY>
        <defaultConnector>
            <targetReference>SPEN_RunImmediateforIVRMessage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NotSP</defaultConnectorLabel>
        <rules>
            <name>SP</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SPEN_IncidentType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>SP</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_IncidentStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Delog</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_IncidentStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Complete</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getAlreadyCreatedOD</targetReference>
            </connector>
            <label>SP</label>
        </rules>
    </decisions>
    <decisions>
        <name>isNullcheckrRelatedPremise</name>
        <label>isNullcheckrelatedPremise</label>
        <locationX>534</locationX>
        <locationY>924</locationY>
        <defaultConnector>
            <targetReference>SPEN_RunImmediateforIVRMessage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>isNullcheck</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getRelatedPremise</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getPSRRec</targetReference>
            </connector>
            <label>isNullcheck</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsPSRSpecific</name>
        <label>IsPSRSpecific</label>
        <locationX>314</locationX>
        <locationY>1128</locationY>
        <defaultConnector>
            <targetReference>SPEN_RunImmediateforIVRMessage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NoPSR</defaultConnectorLabel>
        <rules>
            <name>Specific</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getPSRRec.SPEN_SpecificVulnerability__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateOutboundDialler</targetReference>
            </connector>
            <label>Specific</label>
        </rules>
        <rules>
            <name>NotSpecific</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getPSRRec.SPEN_SpecificVulnerability__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CreateOutboundDialler2</targetReference>
            </connector>
            <label>NotSpecific</label>
        </rules>
    </decisions>
    <decisions>
        <description>Check If it is insert or Update</description>
        <name>OperationMode</name>
        <label>OperationMode</label>
        <locationX>259</locationX>
        <locationY>288</locationY>
        <defaultConnector>
            <targetReference>checkINCType</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Update</defaultConnectorLabel>
        <rules>
            <name>Insert</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isNew</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>Insert</label>
        </rules>
    </decisions>
    <decisions>
        <name>SPEN_CheckZoneValue</name>
        <label>CheckZoneValue</label>
        <locationX>1392</locationX>
        <locationY>408</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SPEN_NorthZone</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SPEN_ZoneRegionFormula__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>North</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_ZoneRegionFormula__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>NORTH</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_ZoneRegionFormula__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>north</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SPEN_AssignNorthZoneValue</targetReference>
            </connector>
            <label>North Zone</label>
        </rules>
        <rules>
            <name>SPEN_SouthZone</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SPEN_ZoneRegionFormula__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>South</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_ZoneRegionFormula__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>SOUTH</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_ZoneRegionFormula__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>south</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SPEN_AssignSouthZoneValue</targetReference>
            </connector>
            <label>South Zone</label>
        </rules>
    </decisions>
    <decisions>
        <name>SPEN_DecisionforMessagingCreation</name>
        <label>Decision for Messaging Creation</label>
        <locationX>1392</locationX>
        <locationY>984</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SPEN_MessagingCreation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SPEN_GetConfigurableSetting.SPEN_Value__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>$Record.SPEN_IncidentType__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_IncidentStatus__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Delog</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_IncidentStatus__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_IncidentStatus__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Merged</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_IncidentStatus__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Cancelled</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SPEN_CreateMessagingTask</targetReference>
            </connector>
            <label>Messaging Creation</label>
        </rules>
    </decisions>
    <decisions>
        <name>SPEN_RunImmediateforIVRMessage</name>
        <label>Run Immediate for IVR Message</label>
        <locationX>732</locationX>
        <locationY>1656</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SPEN_RunImmediate</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SPEN_IVRMessage__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SPEN_RelatedZoneIVRMessage__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SPEN_UpdateIVRMessageAssignedTime</targetReference>
            </connector>
            <label>Run Immediate</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>externalIdforOD</name>
        <dataType>String</dataType>
        <expression>{!$Record.Id} &amp; {!getRelatedPremise.ContactId} &amp; &apos;Stage 1&apos;</expression>
    </formulas>
    <formulas>
        <name>isNew</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <interviewLabel>Update IVR Message Assigned Time Field {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Update IVR Message Assigned Time Field</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>CreateOutboundDialler</name>
        <label>CreateOutboundDialler</label>
        <locationX>50</locationX>
        <locationY>1248</locationY>
        <connector>
            <targetReference>SPEN_RunImmediateforIVRMessage</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>getODOwner.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Campaign__c</field>
            <value>
                <stringValue>Stage 4</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_ContactId__c</field>
            <value>
                <elementReference>getRelatedPremise.ContactId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_ExternalId__c</field>
            <value>
                <elementReference>externalIdforOD</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_IncidentId__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Info__c</field>
            <value>
                <stringValue>Restored- Fault Outbound -SP- Medically Dependent &amp; 1 Retry</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Priority__c</field>
            <value>
                <stringValue>F1</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Type__c</field>
            <value>
                <stringValue>PSR</stringValue>
            </value>
        </inputAssignments>
        <object>SPEN_CustomerUpdate__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>CreateOutboundDialler2</name>
        <label>CreateOutboundDialler2</label>
        <locationX>314</locationX>
        <locationY>1248</locationY>
        <connector>
            <targetReference>SPEN_RunImmediateforIVRMessage</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>getODOwner.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Campaign__c</field>
            <value>
                <stringValue>Stage 4</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_ContactId__c</field>
            <value>
                <elementReference>getRelatedPremise.ContactId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_ExternalId__c</field>
            <value>
                <elementReference>externalIdforOD</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_IncidentId__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Info__c</field>
            <value>
                <stringValue>Restored - Fault Outbound-SP- Other PSR - No Retries</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Priority__c</field>
            <value>
                <stringValue>H1</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Type__c</field>
            <value>
                <stringValue>Other PSR</stringValue>
            </value>
        </inputAssignments>
        <object>SPEN_CustomerUpdate__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>SPEN_CreateMessagingTask</name>
        <label>Create Messaging Task</label>
        <locationX>1260</locationX>
        <locationY>1104</locationY>
        <connector>
            <targetReference>CreateINCStringList</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>SPEN_GetQueue.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>SPEN_GetRecType.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Event__c</field>
            <value>
                <stringValue>3-Hour Comfort Call</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_IncidentId__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SPEN_Status__c</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <object>SPEN_MessagingTask__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>DelayBatchINCType</name>
        <label>DelayBatchINCType</label>
        <locationX>2052</locationX>
        <locationY>288</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_IncidentType</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>CreationBatchDelayINCType</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SPEN_ConfigurableSettings__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getAlreadyCreatedOD</name>
        <label>getAlreadyCreatedOD</label>
        <locationX>534</locationX>
        <locationY>528</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>CheckIfODAlreadyExist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SPEN_IncidentId__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SPEN_CustomerUpdate__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getODOwner</name>
        <label>getODOwner</label>
        <locationX>314</locationX>
        <locationY>768</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>getRelatedPremise</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Outbound_Dialer</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getPSRRec</name>
        <label>getPSRRec</label>
        <locationX>314</locationX>
        <locationY>1008</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>IsPSRSpecific</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SPEN_Premise__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>getRelatedPremise.SPEN_AddressPremise__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SPEN_PSR__c</object>
        <sortField>SPEN_SpecificVulnerability__c</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>getPremisesBasedonRelatedCase</description>
        <name>getRelatedPremise</name>
        <label>getRelatedPremise</label>
        <locationX>314</locationX>
        <locationY>888</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>isNullcheckrRelatedPremise</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SPEN_Incident__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>SPEN_AddressPremise__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>SPEN_GetConfigurableSetting</name>
        <label>Get Configurable Setting</label>
        <locationX>1392</locationX>
        <locationY>864</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>SPEN_DecisionforMessagingCreation</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>MessagingTaskType</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SPEN_ConfigurableSettings__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>SPEN_GetQueue</name>
        <label>Get Queue</label>
        <locationX>1392</locationX>
        <locationY>744</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>SPEN_GetConfigurableSetting</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>SPEN_ZoneValueHolderVariable</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>SPEN_GetRecType</name>
        <label>Get RecType</label>
        <locationX>1392</locationX>
        <locationY>288</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>SPEN_CheckZoneValue</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Incident</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SPEN_MessagingTask__c</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>SPEN_UpdateIVRMessageAssignedTime</name>
        <label>Update IVR Message Assigned Time</label>
        <locationX>600</locationX>
        <locationY>1776</locationY>
        <inputAssignments>
            <field>SPEN_IVRMessageAssignedTime__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>1029</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>OperationMode</targetReference>
        </connector>
        <object>Incident</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <scheduledPaths>
            <name>SPEN_CreateMessagingTaskfor3hrComfortCall</name>
            <connector>
                <targetReference>SPEN_GetRecType</targetReference>
            </connector>
            <label>Create Messaging Task for 3hr Comfort Call</label>
            <offsetNumber>3</offsetNumber>
            <offsetUnit>Hours</offsetUnit>
            <recordField>SPEN_LastCommunicationTime__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>Call_Creation_GetAffectedPremiseBatch_with_Delay</name>
            <connector>
                <targetReference>DelayBatchINCType</targetReference>
            </connector>
            <label>Call Creation GetAffectedPremiseBatch with Delay</label>
            <offsetNumber>1</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>SPEN_CreateBatchTriggerTime__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <description>It will be used to call the Apex Class</description>
        <name>INCIDList</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>SPEN_ZoneValueHolderVariable</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
