<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <assignments>
        <description>Adds the assigned product transfer to the finalProductTransfers record collection variable.</description>
        <name>Add_Product_Transfer</name>
        <label>Add Product Transfer</label>
        <locationX>1876</locationX>
        <locationY>3986</locationY>
        <assignmentItems>
            <assignToReference>finalProductTransfers</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>assigned_product_transfer</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_recordids_Collection_Variable</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assignment to add assigned Product Transfer State to collection variable.</description>
        <name>Add_Product_Transfer_State</name>
        <label>Add Product Transfer State</label>
        <locationX>1876</locationX>
        <locationY>4502</locationY>
        <assignmentItems>
            <assignToReference>finalProductTransferStates</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>assigned_product_transfer_state</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Created_Product_Transfers</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Add the Serialised Product with updated values to the record collection.</description>
        <name>Add_Serialised_Products</name>
        <label>Add Serialised Products</label>
        <locationX>1876</locationX>
        <locationY>5534</locationY>
        <assignmentItems>
            <assignToReference>finalSerialisedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>assigned_serialised_product</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Serialised_Products</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Adds the assigned updated Product Transfer to record collection</description>
        <name>Add_Updated_Product_Transfer</name>
        <label>Add Updated Product Transfer</label>
        <locationX>1876</locationX>
        <locationY>5018</locationY>
        <assignmentItems>
            <assignToReference>finalUpdatedProductTransfers</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>updated_product_transfer</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_to_Update_Product_Transfers</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Add recordid to the collection variable.</description>
        <name>Assign_Multi_Item_to_recordids_Collection</name>
        <label>Assign Multi Item to recordids Collection</label>
        <locationX>1854</locationX>
        <locationY>2954</locationY>
        <assignmentItems>
            <assignToReference>recordIdsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_Active_Multiset_Serialised_Products</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Item_Confirmation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assigns the Serialised Product record to recordId variable.</description>
        <name>Assign_Serialised_Product_Record_to_recordId_Variable</name>
        <label>Assign Serialised Product Record to recordId Variable</label>
        <locationX>2217</locationX>
        <locationY>1538</locationY>
        <assignmentItems>
            <assignToReference>recordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Serialised_Product_from_ENID_Entry</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Appendix_1_Personal_Issue_Check</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Add recordid to the collection variable.</description>
        <name>Assign_Single_Item_to_recordids_Collection</name>
        <label>Assign Single Item to recordids Collection</label>
        <locationX>2118</locationX>
        <locationY>2246</locationY>
        <assignmentItems>
            <assignToReference>recordIdsCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Item_Confirmation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assigns the unavailable Serialised Product ID to a record variable so this can be referenced in a decision.</description>
        <name>Assign_Unavailable_Multiset_Serialised_Product_Record_ID</name>
        <label>Assign Unavailable Multiset Serialised Product Record ID</label>
        <locationX>1810</locationX>
        <locationY>2570</locationY>
        <assignmentItems>
            <assignToReference>unavailableMultisetStorage</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Through_Active_Multiset_Serialised_Products</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Through_Active_Multiset_Serialised_Products</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assigns the product transfer details.</description>
        <name>Assignment_for_Create_Product_Transfer</name>
        <label>Assignment for Create Product Transfer</label>
        <locationX>1876</locationX>
        <locationY>3878</locationY>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.DestinationLocationId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Final_Location_Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.Product2Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.Product2Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.QuantityReceived</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.QuantitySent</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.QuantityUnitOfMeasure</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Each</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.ReceivedById</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Final_User_Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Compliance_Stores_Product_Transfer_Record_Type.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Booked_For__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Final_User_Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Appendix 1/Personal Issue</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Energy_Networks_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.SPEN_Energy_Networks_ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Multiset__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.SPEN_Multiset__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Parent_Energy_Networks_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.SPEN_Parent_Energy_Networks_ID__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Safety_Check_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.SPEN_Safety_Check_Date__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Serialised_Product_Helper__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SourceLocationId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.ProductItem.LocationId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SourceProductItemId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.ProductItemId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Transfer_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Today</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_Previous_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_recordids_Collection_Variable.SPEN_Item_Status__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer.SPEN_New_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Booked Out</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Product_Transfer</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assigns the new variables to Product Transfer State in order to add to record collection.</description>
        <name>Assignment_for_Create_Product_Transfer_State</name>
        <label>Assignment for Create Product Transfer State</label>
        <locationX>1876</locationX>
        <locationY>4394</locationY>
        <assignmentItems>
            <assignToReference>assigned_product_transfer_state.ProductTransferId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Created_Product_Transfers.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer_state.Action</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Receive</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer_state.SerializedProductId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Created_Product_Transfers.SPEN_Serialised_Product_Helper__r.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_product_transfer_state.TransferState</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Sent</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Product_Transfer_State</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assigns new values to created Product Transfer record.</description>
        <name>Assignment_for_Updating_Product_Transfers</name>
        <label>Assignment for Updating Product Transfers</label>
        <locationX>1876</locationX>
        <locationY>4910</locationY>
        <assignmentItems>
            <assignToReference>updated_product_transfer.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_to_Update_Product_Transfers.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updated_product_transfer.IsReceived</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updated_product_transfer.QuantityReceived</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>updated_product_transfer.QuantityUnitOfMeasure</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Each</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Updated_Product_Transfer</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Assigns the new variables to record variable in order to update Serialised Products.</description>
        <name>Assignment_for_Updating_Serialised_Product</name>
        <label>Assignment for Updating Serialised Product</label>
        <locationX>1876</locationX>
        <locationY>5426</locationY>
        <assignmentItems>
            <assignToReference>assigned_serialised_product.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Serialised_Products.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_serialised_product.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Final_User_Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_serialised_product.SPEN_Current_Location__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Final_Location_Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_serialised_product.SPEN_Item_Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Booked Out</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>assigned_serialised_product.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Available</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Serialised_Products</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>Checks if the ENID entered is for an appendix 1 or personal issue category equipment record.</description>
        <name>Appendix_1_Personal_Issue_Check</name>
        <label>Appendix 1/Personal Issue Check</label>
        <locationX>2195</locationX>
        <locationY>1922</locationY>
        <defaultConnector>
            <targetReference>Not_For_Issue_Confirmation</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Requires Book Out</defaultConnectorLabel>
        <rules>
            <name>Appendix_1_Personal_Issue</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>recordId.SPEN_Category__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Appendix 1</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>recordId.SPEN_Category__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Personal Issue</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Initial_Availability</targetReference>
            </connector>
            <label>Appendix 1/Personal Issue</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks if the book out process has been requested for the item scanned.</description>
        <name>Book_Out_Requested</name>
        <label>Book Out Requested</label>
        <locationX>2778</locationX>
        <locationY>2138</locationY>
        <defaultConnectorLabel>End Process</defaultConnectorLabel>
        <rules>
            <name>Book_Out</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Book_Out_Checkbox</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Invoke_Book_Out</targetReference>
            </connector>
            <label>Book Out</label>
        </rules>
    </decisions>
    <decisions>
        <description>Decision element to check if the record is part of a multiset.</description>
        <name>Check_for_Multiset</name>
        <label>Check for Multiset</label>
        <locationX>1920</locationX>
        <locationY>2138</locationY>
        <defaultConnector>
            <targetReference>Assign_Single_Item_to_recordids_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Single Item</defaultConnectorLabel>
        <rules>
            <name>Multiset</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId.SPEN_Multiset__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Active_Multiset_Serialised_Products</targetReference>
            </connector>
            <label>Multiset</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks if a Serialised Product is found where the ENID entered matches ENID field.</description>
        <name>Check_If_ENID_Serialised_Product_Found</name>
        <label>Check If ENID Serialised Product Found</label>
        <locationX>2349</locationX>
        <locationY>1430</locationY>
        <defaultConnector>
            <targetReference>Invalid_ENID_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No ENID Identified</defaultConnectorLabel>
        <rules>
            <name>ENID_Identified</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Serialised_Product_from_ENID_Entry.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Serialised_Product_Record_to_recordId_Variable</targetReference>
            </connector>
            <label>ENID Identified</label>
        </rules>
    </decisions>
    <decisions>
        <description>Decides if the chosen Serialised Products within the multiset is available for book out.</description>
        <name>Check_Multiset_Availability</name>
        <label>Check Multiset Availability</label>
        <locationX>1722</locationX>
        <locationY>2846</locationY>
        <defaultConnector>
            <targetReference>Assign_Multi_Item_to_recordids_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Bookable</defaultConnectorLabel>
        <rules>
            <name>Multiset_Not_Bookable</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>unavailableMultisetStorage</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Unavailable_Multiset_Serialised_Product</targetReference>
            </connector>
            <label>Not Bookable</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks the current item in the loop for their Item Status.</description>
        <name>Check_Multiset_Serialised_Product_Item_Status</name>
        <label>Check Multiset Serialised Product Item Status</label>
        <locationX>1942</locationX>
        <locationY>2462</locationY>
        <defaultConnector>
            <targetReference>Loop_Through_Active_Multiset_Serialised_Products</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Available</defaultConnectorLabel>
        <rules>
            <name>Not_Available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Through_Active_Multiset_Serialised_Products.SPEN_Item_Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Available</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Unavailable_Multiset_Serialised_Product_Record_ID</targetReference>
            </connector>
            <label>Not Available</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Product_Transfer_Record_Type_Found</name>
        <label>Check Product Transfer Record Type Found</label>
        <locationX>1920</locationX>
        <locationY>3662</locationY>
        <defaultConnector>
            <targetReference>Missing_Product_Transfer_Record_Type_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>None Found</defaultConnectorLabel>
        <rules>
            <name>Found_Record_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Compliance_Stores_Product_Transfer_Record_Type.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_recordids_Collection_Variable</targetReference>
            </connector>
            <label>Found Record Type</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks if the permission set assignment was found, if found means user has authorisation to run an inspection, if not, user does not have authorisation. Also checks to make sure that permission sets were found and are in the system. Also checks location record type is found.</description>
        <name>Decide_If_Running_User_Authorised</name>
        <label>Decide If Running User Authorised</label>
        <locationX>1612</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>Failed_Permission_Set_Check_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Permission Set Assignment</defaultConnectorLabel>
        <rules>
            <name>Missing_Location_Record_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Compliance_Stores_Record_Type_Id_Location.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Missing_Location_Record_Type_Screen</targetReference>
            </connector>
            <label>Missing Location Record Type</label>
        </rules>
        <rules>
            <name>Missing_Serialised_Product_Record_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>serialisedProductRecordType</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Missing_Serialised_Product_Record_Type_Screen</targetReference>
            </connector>
            <label>Missing Serialised Product Record Type</label>
        </rules>
        <rules>
            <name>Permission_Sets_Missing</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ComplianceTeamPermissionSetId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>SiteManagerPermissionSetId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>teamLeaderPermissionSetId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Missing_Permission_Sets_Screen</targetReference>
            </connector>
            <label>Permission Sets Missing</label>
        </rules>
        <rules>
            <name>Permission_Set_Assignment_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Permission_Set_Assignments.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_User_Location_Records</targetReference>
            </connector>
            <label>Permission Set Assignment Exists</label>
        </rules>
    </decisions>
    <decisions>
        <description>Decides if the initial Serialised Product is available for book out.</description>
        <name>Initial_Availability</name>
        <label>Check Initial Availability</label>
        <locationX>1612</locationX>
        <locationY>2030</locationY>
        <defaultConnector>
            <targetReference>Non_Bookable_Confirmation</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Bookable</defaultConnectorLabel>
        <rules>
            <name>Recalled</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId.SPEN_Recalled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Non_Bookable_Confirmation_Recalled</targetReference>
            </connector>
            <label>Recalled</label>
        </rules>
        <rules>
            <name>Past_Safety_Check_Date</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId.SPEN_Safety_Check_Date__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>Today</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Non_Bookable_Confirmation_Past_Safety_Check</targetReference>
            </connector>
            <label>Past Safety Check Date</label>
        </rules>
        <rules>
            <name>Bookable</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId.SPEN_Item_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Available</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>recordId.SPEN_Active__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_Multiset</targetReference>
            </connector>
            <label>Bookable</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks whether the flow has been invoked from a Quick Action or a Global Action.</description>
        <name>Quick_Action_or_Global_Action</name>
        <label>Quick Action or Global Action</label>
        <locationX>2195</locationX>
        <locationY>1214</locationY>
        <defaultConnector>
            <targetReference>Get_Serialised_Product_from_ENID_Entry</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Global Action</defaultConnectorLabel>
        <rules>
            <name>Quick_Action</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Appendix_1_Personal_Issue_Check</targetReference>
            </connector>
            <label>Quick Action</label>
        </rules>
    </decisions>
    <description>Flow to allow issue of appendix 1 and personal issue equipment, to be used for Compliance Stores solution.</description>
    <dynamicChoiceSets>
        <name>userLocationCollectionChoiceSet</name>
        <collectionReference>Get_User_Location_Records</collectionReference>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <object>Location</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <description>Returns the full name of the running user record.</description>
        <name>Full_Running_User_Name_Return</name>
        <dataType>String</dataType>
        <expression>{!$User.FirstName} + &quot; &quot; + {!$User.LastName}</expression>
    </formulas>
    <formulas>
        <name>Running_User_ID_Return</name>
        <dataType>String</dataType>
        <expression>CASESAFEID({!$User.Id})</expression>
    </formulas>
    <formulas>
        <description>Stores todays date for checking that the expected return date entered by user isn&apos;t earlier than today.</description>
        <name>Today</name>
        <dataType>Date</dataType>
        <expression>TODAY()</expression>
    </formulas>
    <interviewLabel>Compliance Stores - Issue Item {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Compliance Stores - Issue Item</label>
    <loops>
        <description>Loops through the created product transfers.</description>
        <name>Loop_Created_Product_Transfers</name>
        <label>Loop Created Product Transfers</label>
        <locationX>1788</locationX>
        <locationY>4286</locationY>
        <collectionReference>finalProductTransfers</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assignment_for_Create_Product_Transfer_State</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Product_Transfer_State_Records</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>Loop through the recordids collection variable in order to generate product transfer records for each (multiset or single).</description>
        <name>Loop_recordids_Collection_Variable</name>
        <label>Loop recordids Collection Variable</label>
        <locationX>1788</locationX>
        <locationY>3770</locationY>
        <collectionReference>recordIdsCollection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assignment_for_Create_Product_Transfer</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Product_Transfer_Records</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>Loops through recordids in order to update each Serialised Product following Product Transfer.</description>
        <name>Loop_Serialised_Products</name>
        <label>Loop Serialised Products</label>
        <locationX>1788</locationX>
        <locationY>5318</locationY>
        <collectionReference>recordIdsCollection</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assignment_for_Updating_Serialised_Product</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Serialised_Products</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>Loops through the active multiset Serialised Products to check if any are not sat in available status.</description>
        <name>Loop_Through_Active_Multiset_Serialised_Products</name>
        <label>Loop Through Active Multiset Serialised Products</label>
        <locationX>1722</locationX>
        <locationY>2354</locationY>
        <collectionReference>Get_Active_Multiset_Serialised_Products</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Multiset_Serialised_Product_Item_Status</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_Multiset_Availability</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>Loops through the created Product Transfers in order to update the records.</description>
        <name>Loop_to_Update_Product_Transfers</name>
        <label>Loop to Update Product Transfers</label>
        <locationX>1788</locationX>
        <locationY>4802</locationY>
        <collectionReference>finalProductTransfers</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assignment_for_Updating_Product_Transfers</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Product_Transfers</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <description>Creates the Product Transfer records.</description>
        <name>Create_Product_Transfer_Records</name>
        <label>Create Product Transfer Records</label>
        <locationX>1788</locationX>
        <locationY>4178</locationY>
        <connector>
            <targetReference>Loop_Created_Product_Transfers</targetReference>
        </connector>
        <inputReference>finalProductTransfers</inputReference>
    </recordCreates>
    <recordCreates>
        <description>Creates all Product Transfer records as needed.</description>
        <name>Create_Product_Transfer_State_Records</name>
        <label>Create Product Transfer State Records</label>
        <locationX>1788</locationX>
        <locationY>4694</locationY>
        <connector>
            <targetReference>Loop_to_Update_Product_Transfers</targetReference>
        </connector>
        <inputReference>finalProductTransferStates</inputReference>
    </recordCreates>
    <recordLookups>
        <description>Get Records element to find all Serialised Products which have the same Parent Energy Networks ID as the Serialised Product the user is attempting to issue.</description>
        <name>Get_Active_Multiset_Serialised_Products</name>
        <label>Get Active Multiset Serialised Products</label>
        <locationX>1722</locationX>
        <locationY>2246</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Through_Active_Multiset_Serialised_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SPEN_Parent_Energy_Networks_ID__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId.SPEN_Parent_Energy_Networks_ID__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>SPEN_Active__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>serialisedProductRecordType</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SerializedProduct</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Gets the record type ID of the compliance stores record type for the Product Transfer object.</description>
        <name>Get_Compliance_Stores_Product_Transfer_Record_Type</name>
        <label>Get Compliance Stores Product Transfer Record Type</label>
        <locationX>1920</locationX>
        <locationY>3554</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Product_Transfer_Record_Type_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ProductTransfer</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SPEN_Compliance_Stores</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get Records to find Compliance Stores record type Id for Location object.</description>
        <name>Get_Compliance_Stores_Record_Type_Id_Location</name>
        <label>Get Compliance Stores Record Type ID (Location)</label>
        <locationX>1612</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Compliance_Stores_Serialised_Product_Record_Type_Id</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Location</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SPEN_Compliance_Stores</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Compliance_Stores_Serialised_Product_Record_Type_Id</name>
        <label>Get Compliance Stores Serialised Product Record Type Id</label>
        <locationX>1612</locationX>
        <locationY>674</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Decide_If_Running_User_Authorised</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SerializedProduct</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SPEN_Compliance_Stores</stringValue>
            </value>
        </filters>
        <object>RecordType</object>
        <outputAssignments>
            <assignToReference>serialisedProductRecordType</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Get Records to find the permission set ID of &apos;Compliance Team&apos; record.</description>
        <name>Get_Compliance_Team_Permission_Set_ID</name>
        <label>Get Compliance Team Permission Set ID</label>
        <locationX>1612</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Site_Manager_Permission_Set_ID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SPEN_Compliance_Stores_Compliance_Team</stringValue>
            </value>
        </filters>
        <object>PermissionSet</object>
        <outputAssignments>
            <assignToReference>ComplianceTeamPermissionSetId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Gets the chosen user location record.</description>
        <name>Get_Final_User_Location_Record</name>
        <label>Get Final User Location Record</label>
        <locationX>2195</locationX>
        <locationY>1106</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Quick_Action_or_Global_Action</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>IssueToLookup.selectedChoiceValues</elementReference>
            </value>
        </filters>
        <object>Location</object>
        <outputAssignments>
            <assignToReference>Final_Location_Id</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Final_Location_Name</assignToReference>
            <field>Name</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Final_User_Id</assignToReference>
            <field>OwnerId</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Permission_Set_Assignments</name>
        <label>Get Permission Set Assignments</label>
        <locationX>1612</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Compliance_Stores_Record_Type_Id_Location</targetReference>
        </connector>
        <filterLogic>(1 OR 2 OR 3) AND 4</filterLogic>
        <filters>
            <field>PermissionSetId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>SiteManagerPermissionSetId</elementReference>
            </value>
        </filters>
        <filters>
            <field>PermissionSetId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ComplianceTeamPermissionSetId</elementReference>
            </value>
        </filters>
        <filters>
            <field>PermissionSetId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>teamLeaderPermissionSetId</elementReference>
            </value>
        </filters>
        <filters>
            <field>AssigneeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Running_User_ID_Return</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>PermissionSetAssignment</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Gets the Serialised Product record via the ENID entry from user on previous screen.</description>
        <name>Get_Serialised_Product_from_ENID_Entry</name>
        <label>Get Serialised Product from ENID Entry</label>
        <locationX>2349</locationX>
        <locationY>1322</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_If_ENID_Serialised_Product_Found</targetReference>
        </connector>
        <filterLogic>(1 OR 2) AND 3</filterLogic>
        <filters>
            <field>SPEN_Energy_Networks_ID__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ENID_Entry_Text</elementReference>
            </value>
        </filters>
        <filters>
            <field>SPEN_Parent_Energy_Networks_ID__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ENID_Entry_Text</elementReference>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>serialisedProductRecordType</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SerializedProduct</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Site_Manager_Permission_Set_ID</name>
        <label>Get Site Manager Permission Set ID</label>
        <locationX>1612</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Permission_Set_Assignments</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SPEN_Compliance_Stores_Site_Manager</stringValue>
            </value>
        </filters>
        <object>PermissionSet</object>
        <outputAssignments>
            <assignToReference>SiteManagerPermissionSetId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Get Records to find the permission set ID for the Team Leader.</description>
        <name>Get_Team_Leader_Permission_Set_ID</name>
        <label>Get Team Leader Permission Set ID</label>
        <locationX>1612</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Compliance_Team_Permission_Set_ID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SPEN_Compliance_Stores_Team_Leader</stringValue>
            </value>
        </filters>
        <object>PermissionSet</object>
        <outputAssignments>
            <assignToReference>teamLeaderPermissionSetId</assignToReference>
            <field>Id</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Get Records element to find the unavailable Multiset Serialised Product in order to display on the non bookable confirmation screen.</description>
        <name>Get_Unavailable_Multiset_Serialised_Product</name>
        <label>Get Unavailable Multiset Serialised Product</label>
        <locationX>1590</locationX>
        <locationY>2954</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Non_Bookable_Confirmation_Multiset</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Unavailable_Multiset_Serialised_Product_Storage</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SerializedProduct</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Gets users location records for user selection.</description>
        <name>Get_User_Location_Records</name>
        <label>Get User Location Records</label>
        <locationX>2195</locationX>
        <locationY>890</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Issue_Item_Screen1</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Compliance_Stores_Record_Type_Id_Location.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>LocationType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>User</stringValue>
            </value>
        </filters>
        <filters>
            <field>SPEN_Active__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Location</object>
        <sortField>Name</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>Update Records element to update all Product Transfers previously generated.</description>
        <name>Update_Product_Transfers</name>
        <label>Update Product Transfers</label>
        <locationX>1788</locationX>
        <locationY>5210</locationY>
        <connector>
            <targetReference>Loop_Serialised_Products</targetReference>
        </connector>
        <inputReference>finalUpdatedProductTransfers</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Updates the Serialised Products</description>
        <name>Update_Serialised_Products</name>
        <label>Update Serialised Products</label>
        <locationX>1788</locationX>
        <locationY>5726</locationY>
        <connector>
            <targetReference>Item_Issued</targetReference>
        </connector>
        <inputReference>finalSerialisedProducts</inputReference>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <description>Screen to confirm to the user that they don&apos;t have the relevant permissions to run an inspection in the system.</description>
        <name>Failed_Permission_Set_Check_Screen</name>
        <label>Failed Permission Set Check Screen</label>
        <locationX>3174</locationX>
        <locationY>890</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>NotAuthorisedDisplayText</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;You are not authorised to issue this equipment.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;If you should have authorisation, please speak with your team leader/manager to request access.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm to the user that the ENID entered is not valid/doesn&apos;t match a Serialised Product record.</description>
        <name>Invalid_ENID_Screen</name>
        <label>Invalid ENID Screen</label>
        <locationX>2481</locationX>
        <locationY>1538</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>InvalidENIDDisplayText</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;The chosen Energy Networks ID is not valid. Please input or scan an ID that matches a valid item.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <nextOrFinishButtonLabel>Retry</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to manually capture the ENID from the equipment due to being invoked from a global action.</description>
        <name>Issue_Item_Screen1</name>
        <label>Issue Item Screen</label>
        <locationX>2195</locationX>
        <locationY>998</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_Final_User_Location_Record</targetReference>
        </connector>
        <fields>
            <name>ENID_Entry_Text</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>recordId.SPEN_Energy_Networks_ID__c</elementReference>
            </defaultValue>
            <fieldText>Input or Scan Energy Networks ID:</fieldText>
            <fieldType>InputField</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>IssueToLookup</name>
            <choiceReferences>userLocationCollectionChoiceSet</choiceReferences>
            <extensionName>flowruntime:choiceLookup</extensionName>
            <fieldText>Issue To:</fieldText>
            <fieldType>ComponentChoice</fieldType>
            <inputParameters>
                <name>placeholder</name>
                <value>
                    <stringValue>Choose user to issue equipment to</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to show item being issue as confirmation.</description>
        <name>Item_Confirmation</name>
        <label>Item Confirmation</label>
        <locationX>1920</locationX>
        <locationY>3446</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_Compliance_Stores_Product_Transfer_Record_Type</targetReference>
        </connector>
        <fields>
            <name>ConfirmationDisplayText</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Please confirm you wish to issue item:&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ConfirmationDataTable</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SerializedProduct</typeValue>
            </dataTypeMappings>
            <extensionName>flowruntime:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Item</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectionMode</name>
                <value>
                    <stringValue>NO_SELECTION</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>minRowSelection</name>
                <value>
                    <numberValue>0.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shouldDisplayLabel</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>recordIdsCollection</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>maxRowSelection</name>
                <value>
                    <numberValue>0.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columns</name>
                <value>
                    <stringValue>[{&quot;apiName&quot;:&quot;SPEN_Energy_Networks_ID__c&quot;,&quot;guid&quot;:&quot;column-04eb&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Energy Networks ID&quot;,&quot;type&quot;:&quot;customRichText&quot;},{&quot;apiName&quot;:&quot;SPEN_Category__c&quot;,&quot;guid&quot;:&quot;column-9d9a&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Category&quot;,&quot;type&quot;:&quot;customRichText&quot;},{&quot;apiName&quot;:&quot;SPEN_Item_Description__c&quot;,&quot;guid&quot;:&quot;column-b791&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Description&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Item Description&quot;,&quot;type&quot;:&quot;customRichText&quot;}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <nextOrFinishButtonLabel>Issue Item</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to show item issued.</description>
        <name>Item_Issued</name>
        <label>Item Issued</label>
        <locationX>1788</locationX>
        <locationY>5834</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>IssuedDisplayText</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Item has now been issued:&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>IssuedDataTable</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SerializedProduct</typeValue>
            </dataTypeMappings>
            <extensionName>flowruntime:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Item</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectionMode</name>
                <value>
                    <stringValue>NO_SELECTION</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>minRowSelection</name>
                <value>
                    <numberValue>0.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shouldDisplayLabel</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>recordIdsCollection</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>maxRowSelection</name>
                <value>
                    <numberValue>0.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columns</name>
                <value>
                    <stringValue>[{&quot;apiName&quot;:&quot;SPEN_Energy_Networks_ID__c&quot;,&quot;guid&quot;:&quot;column-04eb&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Energy Networks ID&quot;,&quot;type&quot;:&quot;customRichText&quot;},{&quot;apiName&quot;:&quot;SPEN_Item_Description__c&quot;,&quot;guid&quot;:&quot;column-b791&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Description&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Item Description&quot;,&quot;type&quot;:&quot;customRichText&quot;},{&quot;apiName&quot;:&quot;SPEN_Location_Name__c&quot;,&quot;guid&quot;:&quot;column-ec07&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Location Name&quot;,&quot;type&quot;:&quot;customRichText&quot;}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm the Compliance Stores record type for Location is missing from the system.</description>
        <name>Missing_Location_Record_Type_Screen</name>
        <label>Missing Location Record Type Screen</label>
        <locationX>50</locationX>
        <locationY>890</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>MissingLocationRecordTypeDisplayText</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;You cannot issue this equipment due to a system issue. Please advise the system administrator of the below issue.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;The below Record Type is missing from the Location object:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Compliance Stores&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm to the user that the system is missing permission sets, these need to be uploaded before an inspection is logged in the system for authorisation checks.</description>
        <name>Missing_Permission_Sets_Screen</name>
        <label>Missing Permission Sets Screen</label>
        <locationX>578</locationX>
        <locationY>890</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>MissingPermissionSetsDisplay</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;There are missing permissions in the system to check you are authorised to issue equipment. Please advise the system administrator of the below issue.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;One of the below custom permissions are missing in the Salesforce system:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Compliance Team&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Site Manager&lt;/span&gt;&lt;/li&gt;&lt;li&gt;Team Leader&lt;/li&gt;&lt;/ul&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm the Compliance Stores record type for Product Transfers is missing from the system.</description>
        <name>Missing_Product_Transfer_Record_Type_Screen</name>
        <label>Missing Product Transfer Record Type Screen</label>
        <locationX>2052</locationX>
        <locationY>3770</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>MissingProductTransferRecordTypeDisplayText</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;You cannot issue this equipment due to a system issue. Please advise the system administrator of the below issue.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;The below Record Type is missing from the Product Transfer object:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Compliance Stores&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm the Compliance Stores record type for Serialised Product is missing from the system.</description>
        <name>Missing_Serialised_Product_Record_Type_Screen</name>
        <label>Missing Serialised Product Record Type Screen</label>
        <locationX>314</locationX>
        <locationY>890</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>MissingSerialisedProductRecordTypeDisplayText</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;You cannot issue this equipment due to a system issue. Please advise the system administrator of the below issue.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;The below Record Type is missing from the Serialised Product object:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Compliance Stores&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm to user that the serialised product is non bookable as it&apos;s not active/available status.</description>
        <name>Non_Bookable_Confirmation</name>
        <label>Non Bookable Confirmation</label>
        <locationX>2382</locationX>
        <locationY>2138</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Non_Bookable_Display_Text</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;This equipment is not available for issue:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;Current Status:&lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt; {!recordId.SPEN_Item_Status__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;Current Location: &lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;{!recordId.SPEN_Current_Location__r.Name}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm to user that the serialised product is non bookable as it&apos;s not active/available status.</description>
        <name>Non_Bookable_Confirmation_Multiset</name>
        <label>Non Bookable Confirmation</label>
        <locationX>1590</locationX>
        <locationY>3062</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Non_Multiset_Bookable_Display_Text</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;You can&apos;t issue this equipment, there are one or more components unavailable:&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Multiset_Unbookable_Data_Table</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SerializedProduct</typeValue>
            </dataTypeMappings>
            <extensionName>flowruntime:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Components</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectionMode</name>
                <value>
                    <stringValue>NO_SELECTION</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>minRowSelection</name>
                <value>
                    <numberValue>0.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>shouldDisplayLabel</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>unavailableMultisetStorage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>maxRowSelection</name>
                <value>
                    <numberValue>0.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columns</name>
                <value>
                    <stringValue>[{&quot;apiName&quot;:&quot;SPEN_Energy_Networks_ID__c&quot;,&quot;guid&quot;:&quot;column-1118&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:0,&quot;label&quot;:&quot;Energy Networks ID&quot;,&quot;type&quot;:&quot;customRichText&quot;},{&quot;apiName&quot;:&quot;SPEN_Category__c&quot;,&quot;guid&quot;:&quot;column-51b2&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:false,&quot;customHeaderLabel&quot;:&quot;&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:1,&quot;label&quot;:&quot;Category&quot;,&quot;type&quot;:&quot;customRichText&quot;},{&quot;apiName&quot;:&quot;SPEN_Item_Description__c&quot;,&quot;guid&quot;:&quot;column-0e73&quot;,&quot;editable&quot;:false,&quot;hasCustomHeaderLabel&quot;:true,&quot;customHeaderLabel&quot;:&quot;Description&quot;,&quot;wrapText&quot;:true,&quot;order&quot;:2,&quot;label&quot;:&quot;Item Description&quot;,&quot;type&quot;:&quot;customRichText&quot;}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm to user that the serialised product is non bookable as it&apos;s past the safety check date.</description>
        <name>Non_Bookable_Confirmation_Past_Safety_Check</name>
        <label>Non Bookable Confirmation</label>
        <locationX>1106</locationX>
        <locationY>2138</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Non_Bookable_Display_Text_Passed_Safety</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;This equipment is not available for issue as it&apos;s overdue a safety check:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;Current Status:&lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt; {!recordId.SPEN_Item_Status__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;Safety Check: &lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;{!recordId.SPEN_Safety_Check_Date__c}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm to user that the serialised product is non bookable as it&apos;s past the safety check date.</description>
        <name>Non_Bookable_Confirmation_Recalled</name>
        <label>Non Bookable Confirmation</label>
        <locationX>842</locationX>
        <locationY>2138</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Copy_1_of_Non_Bookable_Display_Text_Passed_Safety</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;This equipment is not available for issue as it&apos;s currently showing as recalled.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;Current Status:&lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt; {!recordId.SPEN_Item_Status__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;Safety Check: &lt;/strong&gt;&lt;span style=&quot;color: rgb(68, 68, 68); background-color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;{!recordId.SPEN_Safety_Check_Date__c}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Screen to confirm to user that the serialised product is not for issue and should be taken via the book out process.</description>
        <name>Not_For_Issue_Confirmation</name>
        <label>Not for Issue Confirmation</label>
        <locationX>2778</locationX>
        <locationY>2030</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Book_Out_Requested</targetReference>
        </connector>
        <fields>
            <name>Not_For_Issue_Display_Text</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;This equipment is not personal issue/appendix 1:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;Current Status:&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt; {!recordId.SPEN_Item_Status__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Category: &lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;{!recordId.SPEN_Category__c}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Would you like to start the book out process?&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Book_Out_Checkbox</name>
            <dataType>Boolean</dataType>
            <fieldText>Book Out</fieldText>
            <fieldType>InputField</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <nextOrFinishButtonLabel>Confirm</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>1486</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Team_Leader_Permission_Set_ID</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <description>Invokes the Compliance Stores book out flow.</description>
        <name>Invoke_Book_Out</name>
        <label>Invoke Book Out</label>
        <locationX>2646</locationX>
        <locationY>2246</locationY>
        <flowName>SPEN_Compliance_Stores_Book_Out</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <description>Holds the assigned product transfer details prior to being entered in product transfer collection</description>
        <name>assigned_product_transfer</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductTransfer</objectType>
    </variables>
    <variables>
        <name>assigned_product_transfer_state</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductTransferState</objectType>
    </variables>
    <variables>
        <name>assigned_serialised_product</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SerializedProduct</objectType>
    </variables>
    <variables>
        <name>ComplianceTeamPermissionSetId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Holds the selected expected return date entered by the user on screen element.</description>
        <name>final_expected_return_date</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Stores the final Location Id that should be entered on the new Product Transfer record.</description>
        <name>Final_Location_Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Stores the chosen Location Name.</description>
        <name>Final_Location_Name</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Stores the final site description chosen by the user.</description>
        <name>final_site_description</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Stores the chosen User Id</description>
        <name>Final_User_Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Stores the chosen User name field.</description>
        <name>Final_User_Name</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>finalProductTransfers</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductTransfer</objectType>
    </variables>
    <variables>
        <name>finalProductTransferStates</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductTransferState</objectType>
    </variables>
    <variables>
        <name>finalSerialisedProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SerializedProduct</objectType>
    </variables>
    <variables>
        <name>finalUpdatedProductTransfers</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductTransfer</objectType>
    </variables>
    <variables>
        <description>Stores the serialised product Id where the flow has been invoked from.</description>
        <name>recordId</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>SerializedProduct</objectType>
    </variables>
    <variables>
        <name>recordIdsCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SerializedProduct</objectType>
    </variables>
    <variables>
        <name>serialisedProductRecordType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SiteManagerPermissionSetId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>teamLeaderPermissionSetId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Stores the record ID of the unavailable multiset Serialised Product if one is found.</description>
        <name>Unavailable_Multiset_Serialised_Product_Storage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>unavailableMultisetStorage</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SerializedProduct</objectType>
    </variables>
    <variables>
        <name>updated_product_transfer</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ProductTransfer</objectType>
    </variables>
</Flow>
